[{"C:\\Users\\Windows\\sInvSyst\\client\\src\\index.js":"1","C:\\Users\\Windows\\sInvSyst\\client\\src\\App.jsx":"2","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\ProtectedRoute.js":"3","C:\\Users\\Windows\\sInvSyst\\client\\src\\context\\AuthContext.jsx":"4","C:\\Users\\Windows\\sInvSyst\\client\\src\\pages\\Login.jsx":"5","C:\\Users\\Windows\\sInvSyst\\client\\src\\pages\\Dashboard.jsx":"6","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\Sidebar.jsx":"7","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\Products.jsx":"8","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditProductModal.jsx":"9","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditSupplierModal.jsx":"10","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\PurchaseOrders.jsx":"11","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\StockManagement.jsx":"12","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\UserManagement.jsx":"13","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditStockModal.jsx":"14","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditOrderModal.jsx":"15","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditUserModal.jsx":"16","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\SupplierList.jsx":"17","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditCategoryModal.jsx":"18"},{"size":283,"mtime":1747901707239,"results":"19","hashOfConfig":"20"},{"size":1635,"mtime":1748070526310,"results":"21","hashOfConfig":"20"},{"size":350,"mtime":1747919772043,"results":"22","hashOfConfig":"20"},{"size":2374,"mtime":1747994591222,"results":"23","hashOfConfig":"20"},{"size":4268,"mtime":1748012279473,"results":"24","hashOfConfig":"20"},{"size":4439,"mtime":1748012375889,"results":"25","hashOfConfig":"20"},{"size":1783,"mtime":1748014284917,"results":"26","hashOfConfig":"20"},{"size":9755,"mtime":1748078226413,"results":"27","hashOfConfig":"20"},{"size":5502,"mtime":1748075813426,"results":"28","hashOfConfig":"20"},{"size":4659,"mtime":1747909072317,"results":"29","hashOfConfig":"20"},{"size":8898,"mtime":1748062914701,"results":"30","hashOfConfig":"20"},{"size":9391,"mtime":1748069804213,"results":"31","hashOfConfig":"20"},{"size":6627,"mtime":1748070590515,"results":"32","hashOfConfig":"20"},{"size":3546,"mtime":1747909139037,"results":"33","hashOfConfig":"20"},{"size":5820,"mtime":1747909172200,"results":"34","hashOfConfig":"20"},{"size":7327,"mtime":1747908766963,"results":"35","hashOfConfig":"20"},{"size":7387,"mtime":1748062176603,"results":"36","hashOfConfig":"20"},{"size":1525,"mtime":1747908394635,"results":"37","hashOfConfig":"20"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"1counne",{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"40"},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"40"},"C:\\Users\\Windows\\sInvSyst\\client\\src\\index.js",[],["76","77"],"C:\\Users\\Windows\\sInvSyst\\client\\src\\App.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\ProtectedRoute.js",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\context\\AuthContext.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\pages\\Login.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\pages\\Dashboard.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\Sidebar.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\Products.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditProductModal.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditSupplierModal.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\PurchaseOrders.jsx",["78","79","80"],"import React, { useEffect, useState, useRef } from 'react';\nimport axios from 'axios';\nimport { Table, Button, Form, InputGroup, Spinner, Alert, Card } from 'react-bootstrap';\nimport { FaPlus, FaEdit } from 'react-icons/fa';\nimport AddEditOrderModal from './AddEditOrderModal';\n\nconst PurchaseOrders = () => {\n  const [orders, setOrders] = useState([]);\n  const [suppliers, setSuppliers] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [searchOrderID, setSearchOrderID] = useState('');\n  const [searchSupplier, setSearchSupplier] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [editOrder, setEditOrder] = useState(null);\n  const [editIndex, setEditIndex] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const editPopupRef = useRef(null);\n\n  useEffect(() => {\n    fetchOrders();\n    fetchSuppliers();\n    fetchProducts();\n    // Close edit popup on outside click\n    const handleClickOutside = (event) => {\n      if (editPopupRef.current && !editPopupRef.current.contains(event.target)) {\n        setEditIndex(null);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  const fetchOrders = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const res = await axios.get('http://localhost:5000/api/purchaseorder');\n      setOrders(res.data); // Even if res.data is [], that's not an error!\n    } catch (err) {\n      setError('Failed to fetch orders.');\n    }\n    setLoading(false);\n  };\n\n  const fetchSuppliers = async () => {\n    const res = await axios.get('http://localhost:5000/api/suppliers');\n    setSuppliers(res.data);\n  };\n\n  const fetchProducts = async () => {\n    const res = await axios.get('http://localhost:5000/api/products');\n    setProducts(res.data);\n  };\n\n  // Filtered orders\n  const filteredOrders = orders.filter(order =>\n    order.purchase_OrderID.toString().toLowerCase().includes(searchOrderID.toLowerCase()) &&\n    (searchSupplier === '' || (order.supplier_Company && order.supplier_Company === searchSupplier))\n  );\n\n  // --- CRUD Handlers ---\n\n  const handleSave = async (order) => {\n    setLoading(true);\n    setError('');\n    try {\n      if (editOrder) {\n        await axios.put(`http://localhost:5000/api/purchaseorder/${editOrder.purchase_OrderID}`, order);\n      } else {\n        await axios.post('http://localhost:5000/api/purchaseorder', order);\n      }\n      fetchOrders();\n      setShowModal(false);\n      setEditOrder(null);\n      setEditIndex(null);\n    } catch {\n      setError('Failed to save order.');\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (order, idx) => {\n    setEditOrder(order);\n    setEditIndex(idx);\n    setShowModal(false);\n    setError('');\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm('Are you sure you want to delete this order?')) {\n      setLoading(true);\n      setError('');\n      try {\n        await axios.delete(`http://localhost:5000/api/purchaseorder/${id}`);\n        fetchOrders();\n        setEditOrder(null);\n        setEditIndex(null);\n      } catch {\n        setError('Failed to delete order.');\n        setLoading(false);\n      }\n    }\n  };\n\n  // Show Add\n  const handleShowAdd = () => {\n    setEditOrder(null);\n    setShowModal(true);\n    setEditIndex(null);\n    setError('');\n  };\n\n  return (\n    <Card className=\"shadow-sm border-0 rounded-4 mb-4\" style={{ maxWidth: 1100, margin: '0 auto', padding: 24 }}>\n      <Card.Header className=\"bg-white border-0 d-flex justify-content-between align-items-center\">\n        <h5 className=\"mb-0 fw-bold\">Purchase Orders</h5>\n        <Button variant=\"primary\" size=\"sm\" onClick={handleShowAdd}>Add Order</Button>\n      </Card.Header>\n      <Card.Body>\n        {/* Search Bar */}\n        <div className=\"d-flex mb-3 gap-3\">\n          <InputGroup>\n            <Form.Control\n              placeholder=\"Order ID\"\n              value={searchOrderID}\n              onChange={e => setSearchOrderID(e.target.value)}\n              style={{ minWidth: 220 }}\n            />\n          </InputGroup>\n          <InputGroup>\n            <Form.Select\n              value={searchSupplier}\n              onChange={e => setSearchSupplier(e.target.value)}\n              style={{ minWidth: 180 }}\n            >\n              <option value=\"\">Supplier</option>\n              {suppliers.map(sup => (\n                <option key={sup.supplier_ID} value={sup.supplier_Company}>{sup.supplier_Company}</option>\n              ))}\n            </Form.Select>\n          </InputGroup>\n        </div>\n\n        {/* Purchase Order Table */}\n        <div style={{ background: '#f8f9f9', borderRadius: 12, padding: 0, boxShadow: '0 2px 8px #0001' }}>\n          <div className=\"d-flex align-items-center justify-content-between px-4 py-2\" style={{ borderBottom: '1px solid #eee' }}>\n            <span className=\"fw-bold\" style={{ fontSize: 22 }}>Purchase Order</span>\n            <Button variant=\"light\" onClick={handleShowAdd} style={{ borderRadius: '50%', fontSize: 22, width: 38, height: 38 }}>\n              <FaPlus />\n            </Button>\n          </div>\n          <Table hover responsive className=\"mb-0\" style={{ background: 'transparent' }}>\n            <thead>\n              <tr>\n                <th>Order ID</th>\n                <th>Supplier</th>\n                <th>Contact</th>\n                <th>Date</th>\n                <th>Quantity</th>\n                <th>Price</th>\n                <th>Status</th>\n                <th style={{ width: 60 }}></th>\n              </tr>\n            </thead>\n            <tbody>\n              {orders.length === 0 ? (\n                <tr>\n                  <td colSpan=\"8\" className=\"text-center text-muted\">No orders found.</td>\n                </tr>\n              ) : (\n                orders.map((order, idx) => (\n                  <tr key={order.purchase_OrderID}>\n                    <td>{order.purchase_OrderID}</td>\n                    <td>{order.supplier_Company}</td>\n                    <td>{order.contact_Person}</td>\n                    <td>{order.order_Date}</td>\n                    <td>{order.quantity_Ordered}</td>\n                    <td>{order.unit_Price}</td>\n                    <td>{order.status}</td>\n                    <td style={{ position: 'relative' }}>\n                      <Button\n                        variant=\"outline-success\"\n                        size=\"sm\"\n                        style={{ borderRadius: '50%' }}\n                        onClick={() => handleEdit(order, idx)}\n                      >\n                        <FaEdit />\n                      </Button>\n                      {/* Edit/Delete Popup */}\n                      {editIndex === idx && (\n                        <div\n                          ref={editPopupRef}\n                          style={{\n                            position: 'absolute',\n                            top: 0,\n                            right: 40,\n                            background: '#fff',\n                            border: '1px solid #ccc',\n                            borderRadius: 8,\n                            boxShadow: '0 2px 8px #0002',\n                            zIndex: 10,\n                            padding: 12,\n                            display: 'flex',\n                            flexDirection: 'column',\n                            gap: 8\n                          }}\n                        >\n                          <Button\n                            variant=\"success\"\n                            size=\"sm\"\n                            onClick={() => setShowModal(true)}\n                            style={{ minWidth: 70 }}\n                          >\n                            Edit\n                          </Button>\n                          <Button\n                            variant=\"danger\"\n                            size=\"sm\"\n                            onClick={() => handleDelete(order.purchase_OrderID)}\n                            style={{ minWidth: 70 }}\n                          >\n                            Delete\n                          </Button>\n                        </div>\n                      )}\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </Table>\n        </div>\n\n        {/* Add/Edit Order Modal */}\n        {showModal && (\n          <AddEditOrderModal\n            show={showModal}\n            handleClose={() => { setShowModal(false); setEditOrder(null); }}\n            handleSave={handleSave}\n            initial={editOrder}\n            suppliers={suppliers}\n            products={products}\n          />\n        )}\n        {error && <Alert variant=\"danger\" className=\"mt-3\">{error}</Alert>}\n      </Card.Body>\n    </Card>\n  );\n};\n\nexport default PurchaseOrders;","C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\StockManagement.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\UserManagement.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditStockModal.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditOrderModal.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditUserModal.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\SupplierList.jsx",[],"C:\\Users\\Windows\\sInvSyst\\client\\src\\components\\AddEditCategoryModal.jsx",[],{"ruleId":"81","replacedBy":"82"},{"ruleId":"83","replacedBy":"84"},{"ruleId":"85","severity":1,"message":"86","line":3,"column":43,"nodeType":"87","messageId":"88","endLine":3,"endColumn":50},{"ruleId":"85","severity":1,"message":"89","line":16,"column":10,"nodeType":"87","messageId":"88","endLine":16,"endColumn":17},{"ruleId":"85","severity":1,"message":"90","line":57,"column":9,"nodeType":"87","messageId":"88","endLine":57,"endColumn":23},"no-native-reassign",["91"],"no-negated-in-lhs",["92"],"no-unused-vars","'Spinner' is defined but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.","'filteredOrders' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]